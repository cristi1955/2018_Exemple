(function(){define(["modules/clean/annotations/annotation","modules/core/exception"],function(t,o){var n,e,l,u,i,r,d,a,c,assert,p,f,m;return d=t.Annotation,assert=o.assert,l=120,i=10,u=75,r=320,e=10,n=28,a=38,c=2,m=function(t,o){var n,e,l,u;return n=t.getBoundingBox(),e=window.getComputedStyle(o),u=e.width,l=e.height,n.top>=l||n.left>=u||n.right<0||n.bottom<0},p=function(t,o){var a,p,f,m,s,b,g,h,w,x,y,B,k,v,C,O,E,P,A,L,M,S;L=o.getBoundingClientRect(),S=L.width,M=L.height,x=function(t,o,n){return null==o&&(o=null),null==n&&(n=null),assert(null!==o||null!==n,"doesBubbleFitOnScreen needs a top or bottom value"),n&&(o=-n-l),t>=0&&t<S-r&&o>=0&&o<M-l},y=function(t,o){return"down"===o?M-t-u:-t-i},v=L.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),k=L.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft),a=t.getClampedBoundingBox(S,M,k,v),p=d.getCenterPosition(a),f=a.bottom-a.top,w={up:a.top*c,down:M-a.bottom,left:a.left,right:S-a.right},B=0,C="up";for(h in w)O=w[h],O>B&&(C=h,B=O);return"up"===C&&(s=p.x-r/2,g=-a.bottom+f+e,m="bottom",x(s,null,g))?[m,{x:s,y:g},y(g,"up")]:"down"===C&&(s=p.x-r/2,b=a.bottom+e,m="top",x(s,b))?[m,{x:s,y:b},y(b,"down")]:(w.left>w.right?(m="right",s=a.left-r-e):(m="left",s=a.right+e),A="down",E=M-a.top,P=a.bottom,P>E&&(A="up"),"down"===A&&E<r&&P>E&&(A="up"),"down"===A&&(m+="-top",b=p.y-n,b=Math.max(0,b),x(s,b))?[m,{x:s,y:b},y(b,"down")]:(m+="-bottom",g=-p.y-n,g=Math.max(-M+1,g),x(s,null,g)?[m,{x:s,y:g},y(g,"up")]:(s=p.x-r/2,b=p.y+e,x(s,b)?["top",{x:s,y:b},y(b,"down")]:(b=e,x(s,b)?["top",{x:s,y:b},y(b,"down")]:(s=0,b=e,x(s,b)?["top",{x:s,y:b},y(b,"down")]:[null,{x:null,y:null},null])))))},f=function(t,o,n){var e,u,i;switch(e=0,u=0,i=t,t){case"top":e=(r-a)/2;break;case"left-top":i="left",u=l/8;break;case"right-top":e=r-a,u=l/8,i="right";break;case"left-bottom":i="left",u=l/8;break;case"right-bottom":e=r-a,u=l/8,i="right";break;case"bottom":e=(r-a)/2}return[i,{x:o+e,y:n+u}]},{isAnnotationOffscreen:m,getBubblePosition:p,getExpandBubblePosition:f}})}).call(this);
//# sourceMappingURL=annotation_utils.min.js-vfl3KkF5F.map